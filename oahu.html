<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oahu Tours & Activities | 329 Adventures | WanderHawaii</title>
    <meta name="description" content="Book 329 Oahu tours direct: Pearl Harbor, snorkeling, whale watching, helicopters & more. Local operators, instant confirmation. Save money, support local.">
    
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16.png">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    
    <meta property="og:title" content="329 Oahu Tours | Book Direct | WanderHawaii">
    <meta property="og:description" content="Pearl Harbor, snorkeling, whale watching, helicopters. Book direct with local operators.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://wanderhawaii.com/oahu">
    <meta property="og:image" content="https://images.unsplash.com/photo-1507876466758-bc54f384809c?w=1200">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PL7CN6NG44"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-PL7CN6NG44');
        
        // Track outbound clicks to FareHarbor
        function trackBookingClick(tourName, tourId) {
            gtag('event', 'booking_click', {
                'event_category': 'conversion',
                'event_label': tourName,
                'tour_id': tourId,
                'island': 'oahu'
            });
        }
    </script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --ocean-deep: #0A4D68;
            --ocean-mid: #088395;
            --ocean-light: #05BFDB;
            --coral: #FF6B6B;
            --gold: #FFD93D;
            --white: #FFFFFF;
            --gray-50: #FAFAFA;
            --gray-100: #F5F5F5;
            --gray-200: #E5E5E5;
            --gray-500: #737373;
            --gray-700: #404040;
            --gray-900: #171717;
            --font-display: 'DM Sans', sans-serif;
            --font-body: 'Inter', sans-serif;
            --shadow: 0 4px 12px rgba(0,0,0,0.08);
            --shadow-lg: 0 12px 32px rgba(0,0,0,0.12);
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body { font-family: var(--font-body); color: var(--gray-900); background: var(--gray-50); }
        
        /* === HEADER === */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(255,255,255,0.97);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--gray-200);
            height: 56px;
        }
        .header-inner {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 16px;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
            font-family: var(--font-display);
            font-weight: 700;
            font-size: 1.25rem;
            color: var(--ocean-deep);
            text-decoration: none;
        }
        .logo img { height: 32px; }
        .nav { display: flex; gap: 24px; }
        .nav a { 
            font-size: 0.9rem; 
            font-weight: 500; 
            color: var(--gray-700); 
            text-decoration: none;
            transition: color 0.2s;
        }
        .nav a:hover { color: var(--ocean-mid); }
        
        @media (max-width: 768px) {
            .nav { display: none; }
        }
        
        /* === HERO (COMPACT) === */
        .hero {
            margin-top: 56px;
            background: linear-gradient(135deg, var(--ocean-deep) 0%, var(--ocean-mid) 100%);
            padding: 24px 16px;
            text-align: center;
            color: white;
        }
        .hero-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 12px;
        }
        .hero h1 {
            font-family: var(--font-display);
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 8px;
        }
        .hero-subtitle {
            font-size: 0.95rem;
            opacity: 0.9;
            margin-bottom: 16px;
        }
        .hero-search {
            max-width: 500px;
            margin: 0 auto;
            position: relative;
        }
        .hero-search input {
            width: 100%;
            padding: 14px 16px 14px 44px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            background: white;
            box-shadow: var(--shadow);
        }
        .hero-search input:focus { outline: 2px solid var(--ocean-light); }
        .hero-search::before {
            content: 'üîç';
            position: absolute;
            left: 14px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.1rem;
        }
        
        @media (max-width: 768px) {
            .hero { padding: 20px 16px; }
            .hero h1 { font-size: 1.5rem; }
        }
        
        /* === TRUST BAR === */
        .trust-bar {
            background: white;
            border-bottom: 1px solid var(--gray-200);
            padding: 12px 16px;
            text-align: center;
        }
        .trust-items {
            display: flex;
            justify-content: center;
            gap: 24px;
            flex-wrap: wrap;
            font-size: 0.85rem;
            color: var(--gray-700);
        }
        .trust-item { display: flex; align-items: center; gap: 6px; }
        .trust-check { color: #22c55e; font-weight: bold; }
        
        @media (max-width: 768px) {
            .trust-items { gap: 16px; font-size: 0.8rem; }
        }
        
        /* === FILTER BAR === */
        .filter-bar {
            background: white;
            border-bottom: 1px solid var(--gray-200);
            padding: 12px 16px;
            position: sticky;
            top: 56px;
            z-index: 100;
        }
        .filter-inner {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            gap: 12px;
            align-items: center;
            flex-wrap: wrap;
        }
        .filter-select {
            padding: 10px 14px;
            border: 1px solid var(--gray-200);
            border-radius: 8px;
            font-size: 0.9rem;
            background: white;
            cursor: pointer;
            min-width: 140px;
        }
        .filter-select:focus { outline: 2px solid var(--ocean-light); border-color: transparent; }
        .filter-count {
            margin-left: auto;
            font-size: 0.85rem;
            color: var(--gray-500);
        }
        .filter-reset {
            font-size: 0.85rem;
            color: var(--ocean-mid);
            background: none;
            border: none;
            cursor: pointer;
            font-weight: 500;
        }
        .filter-reset:hover { text-decoration: underline; }
        
        /* === TOURS GRID === */
        .tours-section {
            max-width: 1200px;
            margin: 0 auto;
            padding: 24px 16px 60px;
        }
        .tours-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }
        
        /* === TOUR CARD === */
        .tour-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: transform 0.2s, box-shadow 0.2s;
            display: flex;
            flex-direction: column;
        }
        .tour-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }
        .tour-image {
            position: relative;
            height: 180px;
            overflow: hidden;
            background: var(--gray-100);
        }
        .tour-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }
        .tour-card:hover .tour-image img { transform: scale(1.05); }
        
        .tour-badges {
            position: absolute;
            top: 10px;
            left: 10px;
            display: flex;
            gap: 6px;
        }
        .badge {
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
        }
        .badge-top { background: var(--gold); color: var(--gray-900); }
        .badge-popular { background: var(--coral); color: white; }
        
        .tour-location {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .tour-content {
            padding: 16px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        .tour-company {
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.03em;
            color: var(--ocean-mid);
            margin-bottom: 4px;
        }
        .tour-name {
            font-family: var(--font-display);
            font-size: 1rem;
            font-weight: 600;
            color: var(--gray-900);
            line-height: 1.3;
            margin-bottom: 8px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        .tour-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 12px;
        }
        .tour-tag {
            font-size: 0.7rem;
            color: var(--gray-500);
            background: var(--gray-100);
            padding: 3px 8px;
            border-radius: 4px;
        }
        .tour-footer {
            margin-top: auto;
            padding-top: 12px;
            border-top: 1px solid var(--gray-100);
        }
        .tour-cta {
            display: block;
            width: 100%;
            padding: 12px;
            background: var(--ocean-mid);
            color: white;
            font-size: 0.9rem;
            font-weight: 600;
            text-align: center;
            text-decoration: none;
            border-radius: 8px;
            transition: background 0.2s;
        }
        .tour-cta:hover { background: var(--ocean-deep); }
        
        /* === LOAD MORE === */
        .load-more {
            text-align: center;
            padding: 32px 16px;
        }
        .load-more-btn {
            padding: 14px 32px;
            background: white;
            border: 2px solid var(--ocean-mid);
            color: var(--ocean-mid);
            font-size: 1rem;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .load-more-btn:hover {
            background: var(--ocean-mid);
            color: white;
        }
        
        /* === NO RESULTS === */
        .no-results {
            text-align: center;
            padding: 60px 20px;
            color: var(--gray-500);
            display: none;
        }
        .no-results h3 { 
            font-size: 1.25rem; 
            color: var(--gray-700); 
            margin-bottom: 8px; 
        }
        
        /* === FOOTER === */
        .footer {
            background: var(--gray-900);
            color: white;
            padding: 48px 16px 24px;
        }
        .footer-inner {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 32px;
        }
        .footer-brand { grid-column: span 2; }
        .footer-brand img { height: 40px; margin-bottom: 12px; filter: brightness(10); }
        .footer-brand p { font-size: 0.9rem; color: var(--gray-500); line-height: 1.6; }
        .footer h4 { 
            font-size: 0.85rem; 
            font-weight: 600; 
            text-transform: uppercase; 
            letter-spacing: 0.05em;
            margin-bottom: 16px; 
            color: var(--gray-500);
        }
        .footer ul { list-style: none; }
        .footer li { margin-bottom: 10px; }
        .footer a { 
            color: white; 
            text-decoration: none; 
            font-size: 0.9rem;
            transition: color 0.2s;
        }
        .footer a:hover { color: var(--ocean-light); }
        .footer-bottom {
            max-width: 1200px;
            margin: 32px auto 0;
            padding-top: 24px;
            border-top: 1px solid var(--gray-700);
            text-align: center;
            font-size: 0.85rem;
            color: var(--gray-500);
        }
        
        @media (max-width: 768px) {
            .footer-brand { grid-column: span 1; }
            .footer-inner { grid-template-columns: 1fr 1fr; }
        }
        
        /* === LOADING STATE === */
        .loading {
            text-align: center;
            padding: 60px 20px;
            color: var(--gray-500);
        }
        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--gray-200);
            border-top-color: var(--ocean-mid);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin: 0 auto 16px;
        }
        @keyframes spin { to { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <!-- HEADER -->
    <header class="header">
        <div class="header-inner">
            <a href="/" class="logo">
                <img src="logo-icon.png" alt="">
                <span>WanderHawaii</span>
            </a>
            <nav class="nav">
                <a href="/">All Islands</a>
                <a href="/maui">Maui</a>
                <a href="/big-island">Big Island</a>
                <a href="/kauai">Kauai</a>
            </nav>
        </div>
    </header>

    <!-- HERO (COMPACT) -->
    <section class="hero">
        <span class="hero-badge">üèùÔ∏è <span id="tour-count">329</span> Adventures</span>
        <h1>Oahu Tours & Activities</h1>
        <p class="hero-subtitle">Pearl Harbor ‚Ä¢ Waikiki ‚Ä¢ North Shore ‚Ä¢ Hanauma Bay</p>
        <div class="hero-search">
            <input type="text" id="searchInput" placeholder="Search tours, activities, locations...">
        </div>
    </section>

    <!-- TRUST BAR -->
    <div class="trust-bar">
        <div class="trust-items">
            <span class="trust-item"><span class="trust-check">‚úì</span> Local Operators</span>
            <span class="trust-item"><span class="trust-check">‚úì</span> Instant Confirmation</span>
            <span class="trust-item"><span class="trust-check">‚úì</span> Best Price Guarantee</span>
            <span class="trust-item"><span class="trust-check">‚úì</span> Free Cancellation</span>
        </div>
    </div>

    <!-- FILTER BAR -->
    <div class="filter-bar">
        <div class="filter-inner">
            <select id="activityFilter" class="filter-select">
                <option value="">All Activities</option>
                <option value="snorkel">ü§ø Snorkeling</option>
                <option value="boat">üö§ Boat Tours</option>
                <option value="whale">üêã Whale Watching</option>
                <option value="dolphin">üê¨ Dolphins</option>
                <option value="scuba">ü§ø Scuba</option>
                <option value="kayak">üö£ Kayaking</option>
                <option value="surf">üèÑ Surfing</option>
                <option value="hike">ü•æ Hiking</option>
                <option value="helicopter">üöÅ Helicopters</option>
                <option value="food">üçΩÔ∏è Food Tours</option>
            </select>
            <select id="areaFilter" class="filter-select">
                <option value="">All Areas</option>
                <option value="waikiki">Waikiki</option>
                <option value="honolulu">Honolulu</option>
                <option value="north shore">North Shore</option>
                <option value="kailua">Kailua</option>
                <option value="ko olina">Ko Olina</option>
            </select>
            <select id="sortFilter" class="filter-select">
                <option value="quality">Top Rated</option>
                <option value="name">A-Z</option>
            </select>
            <button class="filter-reset" onclick="resetFilters()">Reset</button>
            <span class="filter-count"><span id="showing-count">329</span> tours</span>
        </div>
    </div>

    <!-- TOURS GRID -->
    <section class="tours-section">
        <div class="tours-grid" id="tours-grid">
            <div class="loading">
                <div class="spinner"></div>
                <p>Loading Oahu adventures...</p>
            </div>
        </div>
        <div class="no-results" id="no-results">
            <h3>No tours found</h3>
            <p>Try adjusting your filters or search term.</p>
            <button class="load-more-btn" onclick="resetFilters()" style="margin-top: 16px;">Show All Tours</button>
        </div>
        <div class="load-more" id="load-more">
            <button class="load-more-btn" onclick="loadMore()">Load More Tours</button>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="footer-inner">
            <div class="footer-brand">
                <img src="logo-icon.png" alt="WanderHawaii">
                <p>Your guide to 595 Hawaiian adventures.<br>Book direct with local operators and support local businesses.</p>
            </div>
            <div>
                <h4>Islands</h4>
                <ul>
                    <li><a href="/oahu">Oahu (329)</a></li>
                    <li><a href="/maui">Maui (101)</a></li>
                    <li><a href="/big-island">Big Island (124)</a></li>
                    <li><a href="/kauai">Kauai (41)</a></li>
                </ul>
            </div>
            <div>
                <h4>Popular</h4>
                <ul>
                    <li><a href="#" onclick="filterActivity('snorkel')">Snorkeling</a></li>
                    <li><a href="#" onclick="filterActivity('whale')">Whale Watching</a></li>
                    <li><a href="#" onclick="filterActivity('helicopter')">Helicopters</a></li>
                    <li><a href="#" onclick="filterActivity('boat')">Boat Tours</a></li>
                </ul>
            </div>
            <div>
                <h4>Company</h4>
                <ul>
                    <li><a href="/about">About</a></li>
                    <li><a href="/blog">Blog</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>¬© 2025 WanderHawaii. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // ============================================
        // OAHU - CONVERSION-OPTIMIZED TOUR LOADER
        // ============================================
        
        const ISLAND = 'oahu';
        const TOURS_PER_PAGE = 12;
        
        let allTours = [];
        let filteredTours = [];
        let displayedCount = 0;
        
        // Initialize
        document.addEventListener('DOMContentLoaded', init);
        
        async function init() {
            try {
                const res = await fetch('tours-data.json');
                if (!res.ok) throw new Error('Failed to load');
                
                const data = await res.json();
                
                // Filter to this island
                allTours = data.filter(t => t.island && t.island.toLowerCase() === ISLAND);
                
                // Sort by quality
                allTours.sort((a, b) => (b.qualityScore || 0) - (a.qualityScore || 0));
                
                filteredTours = [...allTours];
                
                // Update counts
                document.getElementById('tour-count').textContent = allTours.length;
                
                renderTours();
                setupListeners();
                
            } catch (err) {
                console.error(err);
                document.getElementById('tours-grid').innerHTML = `
                    <div style="text-align:center;padding:60px;grid-column:1/-1;color:#737373;">
                        <p>Unable to load tours. <a href="javascript:location.reload()" style="color:#088395;">Refresh</a></p>
                    </div>
                `;
            }
        }
        
        function renderTours() {
            const grid = document.getElementById('tours-grid');
            const loadMore = document.getElementById('load-more');
            const noResults = document.getElementById('no-results');
            
            if (filteredTours.length === 0) {
                grid.innerHTML = '';
                loadMore.style.display = 'none';
                noResults.style.display = 'block';
                document.getElementById('showing-count').textContent = '0';
                return;
            }
            
            noResults.style.display = 'none';
            
            const toShow = filteredTours.slice(0, displayedCount + TOURS_PER_PAGE);
            displayedCount = toShow.length;
            
            grid.innerHTML = toShow.map(tour => createCard(tour)).join('');
            
            loadMore.style.display = displayedCount < filteredTours.length ? 'block' : 'none';
            document.getElementById('showing-count').textContent = filteredTours.length;
        }
        
        function createCard(tour) {
            const isTop = tour.qualityScore >= 100;
            const isPopular = tour.qualityScore >= 80 && tour.qualityScore < 100;
            const tags = (tour.tags || []).slice(0, 3);
            const desc = tour.description || '';
            const shortDesc = desc.length > 100 ? desc.slice(0, 100) + '...' : desc;
            
            let badges = '';
            if (isTop) badges += '<span class="badge badge-top">‚≠ê Top Rated</span>';
            else if (isPopular) badges += '<span class="badge badge-popular">üî• Popular</span>';
            
            return `
                <article class="tour-card">
                    <div class="tour-image">
                        <img src="${tour.image}" alt="${tour.name}" loading="lazy" 
                             onerror="this.src='https://images.unsplash.com/photo-1559494007-9f5847c49d94?w=400'">
                        <div class="tour-badges">${badges}</div>
                        <div class="tour-location">üìç ${tour.location || 'Oahu'}</div>
                    </div>
                    <div class="tour-content">
                        <div class="tour-company">${tour.company}</div>
                        <h3 class="tour-name">${tour.name}</h3>
                        <div class="tour-tags">
                            ${tags.map(t => `<span class="tour-tag">${t}</span>`).join('')}
                        </div>
                        <div class="tour-footer">
                            <a href="${tour.bookingLink}" 
                               target="_blank" 
                               rel="noopener" 
                               class="tour-cta"
                               onclick="trackBookingClick('${tour.name.replace(/'/g, "\\'")}', '${tour.id}')">
                                Check Availability ‚Üí
                            </a>
                        </div>
                    </div>
                </article>
            `;
        }
        
        function setupListeners() {
            document.getElementById('searchInput').addEventListener('input', debounce(applyFilters, 300));
            document.getElementById('activityFilter').addEventListener('change', applyFilters);
            document.getElementById('areaFilter').addEventListener('change', applyFilters);
            document.getElementById('sortFilter').addEventListener('change', applyFilters);
        }
        
        function applyFilters() {
            const search = document.getElementById('searchInput').value.toLowerCase().trim();
            const activity = document.getElementById('activityFilter').value.toLowerCase();
            const area = document.getElementById('areaFilter').value.toLowerCase();
            const sort = document.getElementById('sortFilter').value;
            
            filteredTours = allTours.filter(tour => {
                // Search match
                const searchMatch = !search || 
                    tour.name.toLowerCase().includes(search) ||
                    (tour.company && tour.company.toLowerCase().includes(search)) ||
                    (tour.location && tour.location.toLowerCase().includes(search)) ||
                    (tour.description && tour.description.toLowerCase().includes(search)) ||
                    (tour.tags && tour.tags.some(tag => tag.toLowerCase().includes(search)));
                
                // Activity match
                const activityMatch = !activity || 
                    (tour.tags && tour.tags.some(tag => tag.toLowerCase().includes(activity)));
                
                // Area match
                const areaMatch = !area || 
                    (tour.location && tour.location.toLowerCase().includes(area));
                
                return searchMatch && activityMatch && areaMatch;
            });
            
            // Sort
            if (sort === 'name') {
                filteredTours.sort((a, b) => a.name.localeCompare(b.name));
            } else {
                filteredTours.sort((a, b) => (b.qualityScore || 0) - (a.qualityScore || 0));
            }
            
            displayedCount = 0;
            renderTours();
        }
        
        function filterActivity(activity) {
            document.getElementById('activityFilter').value = activity;
            applyFilters();
            window.scrollTo({ top: 300, behavior: 'smooth' });
        }
        
        function resetFilters() {
            document.getElementById('searchInput').value = '';
            document.getElementById('activityFilter').value = '';
            document.getElementById('areaFilter').value = '';
            document.getElementById('sortFilter').value = 'quality';
            filteredTours = [...allTours];
            displayedCount = 0;
            renderTours();
        }
        
        function loadMore() {
            renderTours();
            // Track load more clicks
            gtag('event', 'load_more', { 'island': ISLAND, 'count': displayedCount });
        }
        
        function debounce(fn, delay) {
            let timer;
            return function(...args) {
                clearTimeout(timer);
                timer = setTimeout(() => fn.apply(this, args), delay);
            };
        }
    </script>
</body>
</html>
